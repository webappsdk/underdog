function loadDataIntoEl(a,b,c){CRUD.load(a,function(a){b.html(a);b.trigger("create");unlockScreen();hideLoader();"undefined"!=typeof c&&c()})}function setLoaderDisplay(a){document.getElementById("loader").style.display=a}function setLockerDisplay(a){for(var b=document.getElementsByClassName("locker"),c=0;c<b.length;c++)b[0].style.display=a}function lockScreen(){setLoaderDisplay("block");setLockerDisplay("block")}function unlockScreen(){setLockerDisplay("none")}
function hideLoader(){setLoaderDisplay("none")}function fadeOut(a,b,c){a.style.opacity=1;var d=setInterval(function(){.5<a.style.opacity?a.style.opacity-=.05:(clearInterval(d),c())},.05*b)}function U(){}U.mouseX=0;U.mouseY=0;U.oDLF=[];U.oMMF=[];U.un=function(a){if("undefined"==typeof a||null==a)return!0};U.type=function(a){return Array.isArray(a)?"array":"string"==typeof a?"string":null!=a&&"object"==typeof a?"object":"other"};
U.loadjs=function(a){var b=document.createElement("script");b.type="application/javascript";b.src=a;document.body.appendChild(b)};U.onWindowLoad=function(a){"function"==typeof a?U.oDLF.push(a):console.alert("Only function can be called on document load.")};U.onMouseMove=function(a){"function"==typeof a?U.oMMF.push(a):console.alert("Only function can be called on mouse move.")};U.callFunctions=function(a,b){for(var c=0;c<a.length;c++)fn=a[c],"function"==typeof fn?fn(b):console.alert("Only functions can be called.")};
window.onmousemove=function(a){U.callFunctions(U.oMMF,a)};window.onload=function(a){U.callFunctions(U.oDLF,a)};U.onWindowLoad(function(a){U.un(window.sessionStorage.CH_storage)?U.un(window.localStorage.CH_storage)||CH(window.localStorage.CH_storage,window.localStorage.CH_maxSize):CH(window.sessionStorage.CH_storage,window.sessionStorage.CH_maxSize);CH.parseObjects()});U.onMouseMove(function(a){U.mouseX=a.clientX;U.mouseY=a.clientY});function Tooltip(){}
Tooltip["new"]=function(a){var b=document.createElement("span");b.setAttribute("id","underdog-tooltip-"+a);b.setAttribute("style","border:2px solid #444;padding:5px;background-color:#fff;display:none;position:fixed;overflow:hidden;");document.body.appendChild(b)};Tooltip.show=function(a,b,c,d){a=document.getElementById("underdog-tooltip-"+a);null!=b&&(a.innerHTML=b);b=null;b=null==c?U.mouseX+30+"px":c+"px";a.style.left=b;c=null;c=null==d?U.mouseY+10+"px":d+"px";a.style.top=c;a.style.display="block"};
Tooltip.hide=function(a){document.getElementById("underdog-tooltip-"+a).style.display="none"};function Message(){}Message.ICONS_ON_TYPE={success:"check",error:"exclamation",info:"lightbulb-o",warning:"warning"};Message.getDiv=function(a,b){return'<div class="alert alert-'+a+'" role="alert"><i class="fa fa-'+Message.ICONS_ON_TYPE[a]+'"></i>&nbsp;'+b+"</div>"};
Message.show=function(a,b,c){var d=document.getElementById("messageslog");d.innerHTML="";d.style.display="block";"error"==a&&(a="warning");hideLoader();d.innerHTML=Message.getDiv(a,b);b=1500;"error"==a&&(b=2500);fadeOut(d,b,function(){d.style.display="none";c()})};function Alert(){}Alert.textfield=function(a,b,c){a=prompt(a,b);null!=a&&c(a)};Alert.yesno=function(a,b){var c=confirm(a);b(c)};function PH(){}PH.events={};PH.load=function(){U.loadjs("/plugin/plugin.js")};
PH.add=function(a,b){var c=a.events;if(U.un(c))PH.wrappedRun(a,b);else for(var d=null,e=0;e<c.length;e++)d=c[e],U.un(PH.events[d])&&(PH.events[d]=[]),PH.events[d].push(a)};PH.fire=function(a,b,c){if(U.un(PH.events[a]))U.un(c)||c(b);else{a=PH.events[a];for(var d=null,e=0;e<a.length;e++)d=a[e],PH.wrappedRun(d,b,c)}};
PH.wrappedRun=function(a,b,c){PH.fire(a.id+"-before",b,function(b){(new Promise(function(c,f){PH.fire(a.id+"-in-process",b);a.run(b);c()})).then(function(){U.un(c)||c(b)})["finally"](function(){PH.fire(a.id+"-after",b)})})};function EM(){}EM.editors={};EM.activeEditor=null;EM.popup=null;EM.popupBody=null;EM.field=null;EM.load=function(a,b){EM.field=b;U.un(EM.editors[a])?U.loadjs("/editor/"+a+".js"):EM.render(EM.editors[a])};EM.add=function(a,b){null!=b&&(EM.field=b);EM.editors[a.id]=a;EM.render(a)};
EM.render=function(a,b){null!=b&&(EM.field=b);if(null==EM.popup){var c=document.createElement("div");c.style.position="absolute";c.style.width="500px";c.style.height="500px";c.style.top="0px";c.style["background-color"]="#fff";c.style.border="2px solid #000";c.style.display="none";EM.popup=c;document.body.appendChild(c);var d=document.createElement("div");c.appendChild(d);EM.popupBody=d;d=document.createElement("div");d.innerHTML='<a href="javascript:EM.ok();">[OK]</a> <a href="javascript:EM.remove();">[Cancel]</a>';
c.appendChild(d)}EM.popupBody.innerHTML=a.getHTML(EM.field);a.run();EM.activeEditor=a;EM.popup.style.display="inline"};EM.formTemplate=function(a,b,c){CRUD.load(a,function(a){var e="",f=null,g;for(g in b){var f=b[g],h=a;for(g in f)h=h.replace(new RegExp("{{"+g+"}}","g"),f[g]);e+=h}c(e)})};EM.remove=function(){EM.popup.style.display="none";EM.popupBody.innerHTML="";EM.field=null;EM.activeEditor=null};EM.ok=function(){EM.activeEditor.setFieldValue(EM.field);EM.remove()};
function CH(a,b){"session"==a?CH.storage=window.sessionStorage:"local"==a&&(CH.storage=window.localStorage);CH.storage.CH_storage=a;CH.storage.CH_maxSize=b}CH.storage={};CH.objStorage={};CH.maxSize=1024;CH.cache=function(a,b){if(null==b)return U.un(CH.objStorage[a])?CH.storage[a]:CH.objStorage[a];var c=U.type(b);"object"==c||"array"==c?(CH.objStorage[a]=b,new Promise(function(c,e){CH.storage[a]=JSON.stringify(b);c()})):CH.storage[a]=b};
CH.clear=function(a){null==a?(CH.storage={},CH.objStorage={}):(delete CH.storage[a],delete CH.objStorage[a])};CH.parseObjects=function(){for(var a in CH.storage)try{CH.objStorage[a]=JSON.parse(CH.storage[a])}catch(b){}};function CRUD(){}CRUD.loadJSON=function(a,b,c){CRUD.load(a,b,!0,c)};
CRUD.load=function(a,b,c,d,e){var f;if("undefined"!==typeof XMLHttpRequest)f=new XMLHttpRequest;else for(var g=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],h=0,k=g.length;h<k;h++)try{f=new ActiveXObject(g[h]);break}catch(l){}f.onreadystatechange=function(){4>f.readyState||200===f.status&&4===f.readyState&&(U.un(c)?b(f.responseText):b(JSON.parse(f.responseText)))};U.un(d)&&(d="GET");f.open(d,a,!0);if(U.un(e))f.send();else{a="";for(key in e)a+=
encodeURIComponent(key)+"="+encodeURIComponent(e[key])+"&";f.send(a)}};
